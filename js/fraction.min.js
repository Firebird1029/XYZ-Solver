"use strict";var Fraction=function(h,j){if(typeof h!=="undefined"&&j){if(typeof(h)==="number"&&typeof(j)==="number"){this.numerator=h;this.denominator=j}else{if(typeof(h)==="string"&&typeof(j)==="string"){this.numerator=parseInt(h);this.denominator=parseInt(j)}}}else{if(typeof j==="undefined"){var g=h;if(typeof(g)==="number"){this.numerator=g;this.denominator=1}else{if(typeof(g)==="string"){var e,d;var c=g.split(" ");if(c[0]){e=c[0]}if(c[1]){d=c[1]}if(e%1===0&&d&&d.match("/")){return(new Fraction(e)).add(new Fraction(d))}else{if(e&&!d){if(typeof(e)==="string"&&e.match("/")){var i=e.split("/");this.numerator=i[0];this.denominator=i[1]}else{if(typeof(e)==="string"&&e.match(".")){return new Fraction(parseFloat(e))}else{this.numerator=parseInt(e);this.denominator=1}}}else{return undefined}}}}}}this.normalize()};Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)};Fraction.prototype.toString=function(){if(isNaN(this.denominator)){return"NaN"}var a="";if((this.numerator<0)!=(this.denominator<0)){a="-"}var c=Math.abs(this.numerator);var d=Math.abs(this.denominator);var b=Math.floor(c/d);c=c%d;if(b!=0){a+=b}if(c!=0){if(b!=0){a+=" "}a+=c+"/"+d}return a.length>0?a:"0"};Fraction.prototype.toTeX=function(d){if(isNaN(this.denominator)){return"NaN"}var a="";if((this.numerator<0)!=(this.denominator<0)){a="-"}var c=Math.abs(this.numerator);var e=Math.abs(this.denominator);if(!d){if(e===1){return a+c}else{return a+"\\frac{"+c+"}{"+e+"}"}}var b=Math.floor(c/e);c=c%e;if(b!=0){a+=b}if(c!=0){a+="\\frac{"+c+"}{"+e+"}"}return a.length>0?a:"0"};Fraction.prototype.rescale=function(a){this.numerator*=a;this.denominator*=a;return this};Fraction.prototype.add=function(c){var d=this.clone();if(c instanceof Fraction){c=c.clone()}else{c=new Fraction(c)}var e=d.denominator;d.rescale(c.denominator);d.numerator+=c.numerator*e;return d.normalize()};Fraction.prototype.subtract=function(c){var d=this.clone();if(c instanceof Fraction){c=c.clone()}else{c=new Fraction(c)}var e=d.denominator;d.rescale(c.denominator);d.numerator-=c.numerator*e;return d.normalize()};Fraction.prototype.multiply=function(c){var d=this.clone();if(c instanceof Fraction){d.numerator*=c.numerator;d.denominator*=c.denominator}else{if(typeof c==="number"){d.numerator*=c}else{return d.multiply(new Fraction(c))}}return d.normalize()};Fraction.prototype.divide=function(c){var d=this.clone();if(c instanceof Fraction){d.numerator*=c.denominator;d.denominator*=c.numerator}else{if(typeof c==="number"){d.denominator*=c}else{return d.divide(new Fraction(c))}}return d.normalize()};Fraction.prototype.equals=function(c){if(!(c instanceof Fraction)){c=new Fraction(c)}var d=this.clone().normalize();var c=c.clone().normalize();return(d.numerator===c.numerator&&d.denominator===c.denominator)};Fraction.prototype.normalize=(function(){var a=function(c){return(typeof(c)==="number"&&((c>0&&c%1>0&&c%1<1)||(c<0&&c%-1<0&&c%-1>-1)))};var b=function(e,d){if(!d){return Math.round(e)}else{var c=Math.pow(10,d);return Math.round(e*c)/c}};return(function(){if(a(this.denominator)){var c=b(this.denominator,9);var e=Math.pow(10,c.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*e);this.numerator*=e}if(a(this.numerator)){var c=b(this.numerator,9);var e=Math.pow(10,c.toString().split(".")[1].length);this.numerator=Math.round(this.numerator*e);this.denominator*=e}var d=Fraction.gcf(this.numerator,this.denominator);this.numerator/=d;this.denominator/=d;if(this.denominator<0){this.numerator*=-1;this.denominator*=-1}return this})})();Fraction.gcf=function(e,d){if(arguments.length<2){return e}var f;e=Math.abs(e);d=Math.abs(d);while(d){f=e%d;e=d;d=f}return e};Fraction.primeFactors=function(d){var a=Math.abs(d);var c=[];var b=2;while(b*b<=a){if(a%b===0){c.push(b);a=a/b}else{b++}}if(a!=1){c.push(a)}return c};Fraction.prototype.snap=function(g,f){if(!f){f=0.0001}if(!g){g=100}var d=(this.numerator<0);var e=this.numerator/this.denominator;var i=Math.abs(e%1);var h=d?Math.ceil(e):Math.floor(e);for(var b=1;b<=g;++b){for(var a=0;a<=g;++a){var c=Math.abs(a/b);if(Math.abs(c-i)<f){return new Fraction(h*b+a*(d?-1:1),b)}}}return new Fraction(this.numerator,this.denominator)};if(typeof module!=="undefined"){module.exports.Fraction=Fraction};